(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={phonebook:"Phonebook_phonebook__3tLKS",btn:"Phonebook_btn__3_V5t",inpt:"Phonebook_inpt__R0FMy"}},18:function(t,e,n){t.exports={inpt:"Filter_inpt__1nXfK",filter:"Filter_filter__2LIjQ"}},19:function(t,e,n){t.exports={name:"ContactsItem_name__2KSbu",btn:"ContactsItem_btn__3a-uE"}},32:function(t,e,n){t.exports={title:"Section_title__10zUY"}},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(11),o=n.n(r),i=n(7),u=n(6),s=n.n(u),b=n(8),l=n(9),j=n.n(l),f=n(2),d=Object(f.b)("@contact/addContactRequest"),O=Object(f.b)("@contact/addContactSuccess"),p=Object(f.b)("@contact/addContactError"),h=Object(f.b)("@contact/deleteContactRequest"),m=Object(f.b)("@contact/deleteContactSuccess"),x=Object(f.b)("@contact/deleteContactError"),v=Object(f.b)("@contacts/filter"),C=Object(f.b)("@contacts/getContactRequest"),g=Object(f.b)("@contacts/getContactSuccess"),_=Object(f.b)("@contacts/getContactError");j.a.defaults.baseURL="http://localhost:3004";var k,y,S=n(3),w=n(17),N=n(30),F=n(31),I=n(34),L=n(33),E=n(10),R=n.n(E),P=n(69),q=n(1),K=function(t){Object(I.a)(n,t);var e=Object(L.a)(n);function n(){var t;Object(N.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).initialState={name:"",number:""},t.state=Object(w.a)({},t.initialState),t.handleSubmit=function(){var e=Object(b.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t.setState({id:Object(P.a)()});case 3:t.props.onSubmit(t.state),t.reset();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onInputChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(S.a)({},c,a))},t.reset=function(){t.setState(Object(w.a)({},t.initialState))},t}return Object(F.a)(n,[{key:"render",value:function(){return Object(q.jsx)("div",{className:R.a.phonebook,children:Object(q.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(q.jsxs)("label",{children:[Object(q.jsx)("p",{children:"Name"}),Object(q.jsx)("input",{type:"text",value:this.state.name,name:"name",className:R.a.inpt,onChange:this.onInputChange,autoComplete:"off"})]}),Object(q.jsxs)("label",{children:[Object(q.jsx)("p",{children:"Number"}),Object(q.jsx)("input",{type:"text",value:this.state.number,name:"number",className:R.a.inpt,onChange:this.onInputChange,autoComplete:"off"})]}),Object(q.jsx)("button",{type:"submit",className:R.a.btn,children:"Add contact"})]})})}}]),n}(c.Component),A=n(32),J=n.n(A),M=function(t){var e=t.title;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("h2",{className:J.a.title,children:e}),t.children]})},U=n(12),z=function(t){return t.loading},B=function(t){return t.items},D=function(t){return t.filter},Q=Object(U.a)([B,D],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),T=n(18),V=n.n(T),X=Object(i.b)((function(t){var e=t.contacts;return{filter:D(e)}}),(function(t){return{filterContacts:function(e){return t(v(e))}}}))((function(t){var e=t.filter,n=(t.onChange,t.filterContacts);return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)("div",{className:V.a.filter,children:Object(q.jsxs)("label",{children:[Object(q.jsx)("p",{children:"Find contacts by name"}),Object(q.jsx)("input",{type:"text",value:e,onChange:function(t){n(t.target.value)},className:V.a.inpt,autoComplete:"off"})]})})})})),Y=n(19),G=n.n(Y),H=function(t){var e=t.contact,n=t.deleteContact,c=e.name,a=e.number,r=e.id;return Object(q.jsxs)("li",{className:G.a.name,children:[c,": ",a,Object(q.jsx)("button",{className:G.a.btn,onClick:function(){return n(r)},children:"delete"})]})},W=Object(i.b)((function(t){var e=t.contacts;return{filterContacts:Q(e)}}),(function(t){return{deleteContact:function(e){return t(function(t){return function(){var e=Object(b.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(h()),e.prev=1,e.next=4,j.a.delete("/contacts/".concat(t));case 4:n(m(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(x(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))((function(t){var e=t.deleteContact,n=t.filterContacts;return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)("ul",{className:"contacts__name",children:n.map((function(t){return Object(q.jsx)(H,{contact:t,deleteContact:e},t.id)}))})})})),Z=(n(65),Object(i.b)((function(t){var e=t.contacts;return{loading:z(e),items:B(e)}}),(function(t){return{addContact:function(e){return t(function(t){var e=t.name,n=t.number;return function(){var t=Object(b.a)(s.a.mark((function t(c){var a,r,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={name:e,number:n},c(d()),t.prev=2,t.next=5,j.a.post("/contacts",a);case 5:r=t.sent,o=r.data,c(O(o)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),c(p(t.t0));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))},getContacts:function(e){return t(function(){var t=Object(b.a)(s.a.mark((function t(e){var n,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(C()),t.prev=1,t.next=4,j.a.get("/contacts");case 4:n=t.sent,c=n.data,e(g(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(_(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}}}))((function(t){var e=t.items,n=t.addContact,a=t.getContacts,r=t.loading;Object(c.useEffect)((function(){a()}),[a]);return Object(q.jsxs)(q.Fragment,{children:[r&&"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",Object(q.jsx)(M,{title:"Phonebook",children:Object(q.jsx)(K,{onSubmit:function(t){e.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))?alert("".concat(t.name," is already in contacts")):n(t)}})}),Object(q.jsxs)(M,{title:"Contacts",children:[Object(q.jsx)(X,{}),Object(q.jsx)(W,{items:e})]})]})}))),$=n(20),tt=n(5),et=Object(f.c)([],(k={},Object(S.a)(k,O,(function(t,e){var n=e.payload;return[].concat(Object($.a)(t),[n])})),Object(S.a)(k,m,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(S.a)(k,g,(function(t,e){var n=e.payload;return Object($.a)(n)})),k)),nt=Object(f.c)("",Object(S.a)({},v,(function(t,e){return e.payload}))),ct=Object(f.c)(!1,(y={},Object(S.a)(y,d,(function(){return!0})),Object(S.a)(y,O,(function(){return!1})),Object(S.a)(y,p,(function(){return!1})),Object(S.a)(y,h,(function(){return!0})),Object(S.a)(y,m,(function(){return!1})),Object(S.a)(y,x,(function(){return!1})),Object(S.a)(y,C,(function(){return!0})),Object(S.a)(y,g,(function(){return!1})),Object(S.a)(y,_,(function(){return!1})),y)),at=Object(f.c)(null,{}),rt=Object(tt.c)({items:et,filter:nt,loading:ct,error:at}),ot=Object(f.a)({reducer:{contacts:rt},devTools:!1});n(66);o.a.render(Object(q.jsx)(a.a.StrictMode,{children:Object(q.jsx)(i.a,{store:ot,children:Object(q.jsx)(Z,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.7ccc8db5.chunk.js.map